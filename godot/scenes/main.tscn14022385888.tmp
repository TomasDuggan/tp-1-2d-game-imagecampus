[gd_scene load_steps=17 format=3 uid="uid://cssd7bjaqj0re"]

[ext_resource type="Script" uid="uid://bro3w4a1kwbml" path="res://scripts/hero/hero.gd" id="1_0wfyh"]
[ext_resource type="SpriteFrames" uid="uid://8dvyppn706ka" path="res://animations/miner_animation.tres" id="2_sugp2"]
[ext_resource type="Script" uid="uid://dx2akoth87pp5" path="res://scripts/hero/hero_animation.gd" id="3_jyhfs"]
[ext_resource type="Script" uid="uid://w6k62hjfi6jo" path="res://scripts/managers/hero_swapper.gd" id="3_sugp2"]
[ext_resource type="Script" uid="uid://diwsxl3yyq0e2" path="res://scripts/obstacles/collectable_behaviours/currency_reward_collectable_behaviour.gd" id="4_eb6dy"]
[ext_resource type="Script" uid="uid://d25mti2kgrldo" path="res://scripts/hero/hero_attack.gd" id="4_tbgi4"]
[ext_resource type="PackedScene" uid="uid://bd6qfdsmfsfno" path="res://scenes/obstacle/obstacle.tscn" id="5_tipki"]
[ext_resource type="Script" uid="uid://bkw6yobd6k4ta" path="res://configs/collectables/collectable_config.gd" id="5_trceg"]
[ext_resource type="Script" uid="uid://fvrphul7mlkj" path="res://configs/obstacle/obstacle_config.gd" id="6_a8y0u"]
[ext_resource type="Texture2D" uid="uid://8v28iq216615" path="res://art/minerals/amethystNode.png" id="7_jkv2x"]
[ext_resource type="Script" uid="uid://bmnn78fbowmjo" path="res://scripts/managers/collectables_manager.gd" id="8_85g3d"]
[ext_resource type="Script" uid="uid://b8vecgqkje2e6" path="res://scripts/managers/obstacles_spawner.gd" id="10_choun"]

[sub_resource type="Resource" id="Resource_eb6dy"]
script = ExtResource("5_trceg")
type = 0
hp = 2
reward_amount = 1
behaviours = Array[Script]([ExtResource("4_eb6dy")])
metadata/_custom_type_script = "uid://bkw6yobd6k4ta"

[sub_resource type="Resource" id="Resource_muem4"]
script = ExtResource("6_a8y0u")
texture = ExtResource("7_jkv2x")
collectable_config = SubResource("Resource_eb6dy")
metadata/_custom_type_script = "uid://fvrphul7mlkj"

[sub_resource type="RectangleShape2D" id="RectangleShape2D_tefeu"]
size = Vector2(20, 31)

[sub_resource type="RectangleShape2D" id="RectangleShape2D_jyhfs"]
size = Vector2(32, 30)

[node name="Main" type="Node2D"]

[node name="Managers" type="Node" parent="."]

[node name="CollectablesManager" type="Node" parent="Managers"]
script = ExtResource("8_85g3d")

[node name="World" type="Node" parent="."]

[node name="ObstaclesSpawner" type="Node" parent="World"]
script = ExtResource("10_choun")
_obstacle_scene = ExtResource("5_tipki")
_test_obstacle = SubResource("Resource_muem4")

[node name="HeroSwapper" type="Node" parent="World"]
script = ExtResource("3_sugp2")

[node name="Hero" type="CharacterBody2D" parent="World"]
position = Vector2(323, 509)
collision_layer = 2
collision_mask = 4
motion_mode = 1
script = ExtResource("1_0wfyh")

[node name="Animation" type="AnimatedSprite2D" parent="World/Hero"]
scale = Vector2(3, 3)
sprite_frames = ExtResource("2_sugp2")
animation = &"walk_right"
script = ExtResource("3_jyhfs")

[node name="PhysicsCollisionShape" type="CollisionShape2D" parent="World/Hero"]
position = Vector2(0, 5.5)
shape = SubResource("RectangleShape2D_tefeu")

[node name="Attack" type="Area2D" parent="World/Hero"]
collision_layer = 0
collision_mask = 8
script = ExtResource("4_tbgi4")

[node name="AttackCollisionShape" type="CollisionShape2D" parent="World/Hero/Attack"]
position = Vector2(-1, -26)
shape = SubResource("RectangleShape2D_jyhfs")
debug_color = Color(0.608352, 0.536571, 0.165396, 0.42)
