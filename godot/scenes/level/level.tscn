[gd_scene load_steps=8 format=3 uid="uid://cw7v32643ol2t"]

[ext_resource type="Script" uid="uid://ywf7pwru2s70" path="res://scripts/world/level.gd" id="1_vpf64"]
[ext_resource type="Script" uid="uid://w6k62hjfi6jo" path="res://scripts/managers/hero_swapper.gd" id="2_wcngd"]
[ext_resource type="PackedScene" uid="uid://bmjsmxtdlcees" path="res://scenes/level/level_1/miner_world_level_1.tscn" id="3_qkmgm"]
[ext_resource type="PackedScene" uid="uid://y76enpiqi5pc" path="res://scenes/level/level_1/warrior_world_level_1.tscn" id="4_hnne4"]
[ext_resource type="Script" uid="uid://bkw6yobd6k4ta" path="res://configs/collectables/collectable_config.gd" id="5_wcngd"]
[ext_resource type="Resource" uid="uid://d0hq6oyw4fxe2" path="res://configs/collectables/instances/enemies/vampire_1_enemy_config.tres" id="6_xv074"]
[ext_resource type="Resource" uid="uid://c4fyc808g5mh3" path="res://configs/collectables/instances/enemies/undead_slime_enemy_config.tres" id="7_sytrn"]

[node name="Level" type="Node" node_paths=PackedStringArray("_miner_world", "_warrior_world")]
script = ExtResource("1_vpf64")
_miner_world = NodePath("HBoxContainer/SubViewportContainer/SubViewport/MinerWorld")
_warrior_world = NodePath("HBoxContainer/SubViewportContainer2/SubViewport/WarriorWorld")

[node name="Managers" type="Node" parent="."]

[node name="HeroSwapper" type="Node" parent="Managers"]
script = ExtResource("2_wcngd")

[node name="HBoxContainer" type="HBoxContainer" parent="."]
anchors_preset = 15
anchor_right = 1.0
anchor_bottom = 1.0
grow_horizontal = 2
grow_vertical = 2

[node name="SubViewportContainer" type="SubViewportContainer" parent="HBoxContainer"]
layout_mode = 2
size_flags_horizontal = 3
stretch = true

[node name="SubViewport" type="SubViewport" parent="HBoxContainer/SubViewportContainer"]
handle_input_locally = false
canvas_item_default_texture_filter = 0
size = Vector2i(638, 720)
render_target_update_mode = 4

[node name="MinerWorld" parent="HBoxContainer/SubViewportContainer/SubViewport" instance=ExtResource("3_qkmgm")]

[node name="SubViewportContainer2" type="SubViewportContainer" parent="HBoxContainer"]
layout_mode = 2
size_flags_horizontal = 3
stretch = true

[node name="SubViewport" type="SubViewport" parent="HBoxContainer/SubViewportContainer2"]
handle_input_locally = false
canvas_item_default_texture_filter = 0
size = Vector2i(638, 720)
render_target_update_mode = 4

[node name="WarriorWorld" parent="HBoxContainer/SubViewportContainer2/SubViewport" instance=ExtResource("4_hnne4")]
_collectables_to_spawn = Array[ExtResource("5_wcngd")]([ExtResource("6_xv074"), ExtResource("7_sytrn")])
