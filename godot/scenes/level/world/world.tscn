[gd_scene load_steps=16 format=3 uid="uid://b2q5ss2eqgp18"]

[ext_resource type="Script" uid="uid://du71wkafc61o0" path="res://scripts/world/scroll.gd" id="1_bq33v"]
[ext_resource type="Script" uid="uid://o8r2jya8p0fw" path="res://scripts/world/world.gd" id="1_gb53w"]
[ext_resource type="Script" uid="uid://b8vecgqkje2e6" path="res://scripts/managers/collectables_spawner.gd" id="1_j2gmx"]
[ext_resource type="TileSet" uid="uid://bexs7e33c7b6q" path="res://art/tiles/cave_tile_set.tres" id="2_j2gmx"]
[ext_resource type="Script" uid="uid://dhsqnlkb2pg63" path="res://scripts/collectables/collectable_spawn_points.gd" id="3_1yooq"]
[ext_resource type="PackedScene" uid="uid://ctkc2ceeqspqm" path="res://scenes/collectables/collectable.tscn" id="3_5qq27"]
[ext_resource type="Script" uid="uid://bro3w4a1kwbml" path="res://scripts/hero/hero.gd" id="4_gb53w"]
[ext_resource type="SpriteFrames" uid="uid://8dvyppn706ka" path="res://animations/hero/miner_animation.tres" id="5_5qq27"]
[ext_resource type="Script" uid="uid://dx2akoth87pp5" path="res://scripts/hero/hero_animation.gd" id="6_dlabj"]
[ext_resource type="PackedScene" uid="uid://bq2pr30406woi" path="res://scenes/damage/hitbox.tscn" id="7_srmg5"]
[ext_resource type="PackedScene" uid="uid://bhr40240oq8fk" path="res://scenes/damage/hurtbox.tscn" id="11_5qq27"]

[sub_resource type="CapsuleShape2D" id="CapsuleShape2D_dlabj"]

[sub_resource type="RectangleShape2D" id="RectangleShape2D_a8y0u"]
size = Vector2(36, 30)

[sub_resource type="RectangleShape2D" id="RectangleShape2D_srmg5"]
size = Vector2(20, 32)

[sub_resource type="WorldBoundaryShape2D" id="WorldBoundaryShape2D_n47ow"]
normal = Vector2(0, 1)

[node name="World" type="Node2D" node_paths=PackedStringArray("_collectables_spawner", "_hero")]
script = ExtResource("1_gb53w")
_collectables_spawner = NodePath("Managers/CollectablesSpawner")
_hero = NodePath("Hero")

[node name="Managers" type="Node" parent="."]

[node name="CollectablesSpawner" type="Node" parent="Managers" node_paths=PackedStringArray("_collectables_container", "_collectable_spawn_points")]
script = ExtResource("1_j2gmx")
_collectable_scene = ExtResource("3_5qq27")
_collectables_container = NodePath("../../Scroll/CollectablesContainer")
_collectable_spawn_points = NodePath("../../Scroll/CollectableSpawnPoints")

[node name="Scroll" type="Node2D" parent="."]
script = ExtResource("1_bq33v")

[node name="Background" type="TileMapLayer" parent="Scroll"]
tile_set = ExtResource("2_j2gmx")

[node name="CollectableSpawnPoints" type="TileMapLayer" parent="Scroll"]
tile_set = ExtResource("2_j2gmx")
script = ExtResource("3_1yooq")

[node name="CollectablesContainer" type="Node2D" parent="Scroll"]

[node name="Traps" type="Node2D" parent="Scroll"]

[node name="Hero" type="CharacterBody2D" parent="."]
position = Vector2(640, 360)
collision_layer = 2
collision_mask = 12
motion_mode = 1
script = ExtResource("4_gb53w")

[node name="Animation" type="AnimatedSprite2D" parent="Hero"]
scale = Vector2(3, 3)
sprite_frames = ExtResource("5_5qq27")
animation = &"walk_up"
script = ExtResource("6_dlabj")

[node name="PhysicsCollisionShape" type="CollisionShape2D" parent="Hero"]
position = Vector2(0, 5.5)
shape = SubResource("CapsuleShape2D_dlabj")

[node name="Hitbox" parent="Hero" instance=ExtResource("7_srmg5")]

[node name="HitCollisionShape" type="CollisionShape2D" parent="Hero/Hitbox"]
position = Vector2(-1, -25)
shape = SubResource("RectangleShape2D_a8y0u")
debug_color = Color(0.612019, 0.538159, 0, 0.42)

[node name="Hurtbox" parent="Hero" instance=ExtResource("11_5qq27")]

[node name="HurtCollisionShape" type="CollisionShape2D" parent="Hero/Hurtbox"]
position = Vector2(0, 7)
shape = SubResource("RectangleShape2D_srmg5")
debug_color = Color(0.985726, 0, 0.330869, 0.42)

[node name="Camera" type="Camera2D" parent="."]
position = Vector2(640, 360)

[node name="YHeroLimit" type="StaticBody2D" parent="."]
position = Vector2(0, 180)
collision_layer = 4
collision_mask = 2

[node name="LimitCollisionShape" type="CollisionShape2D" parent="YHeroLimit"]
shape = SubResource("WorldBoundaryShape2D_n47ow")
